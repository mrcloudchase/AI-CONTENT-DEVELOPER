{
  "data": {
    "content": "## Enable Azure RBAC on the cluster\n\n1. Get the cluster MSI identity by running the following command:\n\n   ```azurecli\n   az connectedk8s show -g <resource-group> -n <connected-cluster-name>\n   ```\n\n1. Get the ID (`identity.principalId`) from the output and run the following command to assign the **Connected Cluster Managed Identity CheckAccess Reader** role to the cluster MSI:\n\n   ```azurecli\n   az role assignment create --role \"Connected Cluster Managed Identity CheckAccess Reader\" --assignee \"<Cluster MSI ID>\" --scope <cluster ARM ID>\n   ```\n\n1. Enable Azure role-based access control (RBAC) on your Azure Arc-enabled Kubernetes cluster by running the following command:\n\n   ```azurecli\n   az connectedk8s enable-features -n <clusterName> -g <resourceGroupName> --features azure-rbac\n   ```\n\n   > [!NOTE]\n   > Before you run the `enable-features` command, ensure that the `kubeconfig` file on the machine points to the cluster on which you want to enable Azure RBAC.\n   >\n   > Use `--skip-azure-rbac-list` with this command for a comma-separated list of usernames, emails, and OpenID connections undergoing authorization checks by using Kubernetes native `ClusterRoleBinding` and `RoleBinding` objects instead of Azure RBAC.\n\nNext, follow the steps in the appropriate section, depending on whether you're using a generic cluster where no reconciler is running on the `apiserver` specification, or a cluster created by using Cluster API.",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/azure-rbac.md",
    "heading_path": [
      "Use Azure RBAC on Azure Arc-enabled Kubernetes clusters",
      "Enable Azure RBAC on the cluster"
    ],
    "section_level": 2,
    "chunk_index": 2,
    "frontmatter": {
      "title": "Azure RBAC on Azure Arc-enabled Kubernetes clusters",
      "ms.date": "02/25/2025",
      "ms.topic": "how-to",
      "ms.custom": "devx-track-azurecli",
      "description": "Use Azure RBAC for authorization checks on Azure Arc-enabled Kubernetes clusters."
    },
    "embedding_content": "Document: Azure RBAC on Azure Arc-enabled Kubernetes clusters | Topic: how-to | Description: Use Azure RBAC for authorization checks on Azure Arc-enabled Kubernetes clusters. | Section: Use Azure RBAC on Azure Arc-enabled Kubernetes clusters > Enable Azure RBAC on the cluster | ## Enable Azure RBAC on the cluster\n\n1. Get the cluster MSI identity by running the following command:\n\n   ```azurecli\n   az connectedk8s show -g <resource-group> -n <connected-cluster-name>\n   ```\n\n1. Get the ID (`identity.principalId`) from the output and run the following command to assign the **Connected Cluster Managed Identity CheckAccess Reader** role to the cluster MSI:\n\n   ```azurecli\n   az role assignment create --role \"Connected Cluster Managed Identity CheckAccess Reader\" --assignee \"<Cluster MSI ID>\" --scope <cluster ARM ID>\n   ```\n\n1. Enable Azure role-based access control (RBAC) on your Azure Arc-enabled Kubernetes cluster by running the following command:\n\n   ```azurecli\n   az connectedk8s enable-features -n <clusterName> -g <resourceGroupName> --features azure-rbac\n   ```\n\n   > [!NOTE]\n   > Before you run the `enable-features` command, ensure that the `kubeconfig` file on the machine points to the cluster on which you want to enable Azure RBAC.\n   >\n   > Use `--skip-azure-rbac-list` with this command for a comma-separated list of usernames, emails, and OpenID connections undergoing authorization checks by using Kubernetes native `ClusterRoleBinding` and `RoleBinding` objects instead of Azure RBAC.\n\nNext, follow the steps in the appropriate section, depending on whether you're using a generic cluster where no reconciler is running on the `apiserver` specification, or a cluster created by using Cluster API.",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "e71fd91cb26c8d392a7204aae7c3c90da1f776679eb74fd8577909be65581751",
    "file_id": "3e8ed022d954361887bcaeb5266dfc135ba567b5c7d7df942f9288c9158f0b00",
    "chunk_id": "f25dfc8347647fb0f8bf83359769553fa45b852ab6b677cb0669226eab0f9745",
    "prev_chunk_id": "61bf33421ebacc8adf4a3c5527fe015ebe341929fc015ae9ae9de447b3ab9d67",
    "next_chunk_id": "80851aaac1e09e11793ecd4535f64f5f5853368227a735ca167ba471b368b5bc",
    "parent_heading_chunk_id": "d1fff1ffc19a5647cc71fb1886ffa763ff33f859bb6dfebcf322362998632a24",
    "total_chunks_in_file": 19
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/azure-rbac.md",
    "section": [
      "Use Azure RBAC on Azure Arc-enabled Kubernetes clusters",
      "Enable Azure RBAC on the cluster"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:33.642859"
}