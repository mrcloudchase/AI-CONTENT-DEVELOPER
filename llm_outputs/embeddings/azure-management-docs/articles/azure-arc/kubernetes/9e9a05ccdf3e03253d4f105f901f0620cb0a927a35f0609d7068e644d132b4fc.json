{
  "data": {
    "content": "1. Start the Azure Arc registration for your cluster. This process deploys the agent Helm chart on the cluster. After that, the cluster nodes initiate an outbound communication to the [Microsoft Container Registry](https://github.com/microsoft/containerregistry), pulling the images needed to create the following agents in the `azure-arc` namespace:\n  \n   | Agent | Description |\n   | ----- | ----------- |\n   | `deployment.apps/clusteridentityoperator` | Azure Arc-enabled Kubernetes currently supports only [system assigned identities](/azure/active-directory/managed-identities-azure-resources/overview). `clusteridentityoperator` initiates the first outbound communication. This first communication fetches the Managed Service Identity (MSI) certificate used by other agents for communication with Azure. |\n   | `deployment.apps/config-agent` | Watches the connected cluster for source control configuration resources applied on the cluster. Updates the compliance state. |\n   | `deployment.apps/controller-manager` | An operator of operators that orchestrates interactions between Azure Arc components. |\n   | `deployment.apps/metrics-agent` | Collects metrics of other Arc agents to verify optimal performance. |\n   | `deployment.apps/cluster-metadata-operator` | Gathers cluster metadata, including cluster version, node count, and Azure Arc agent version. |\n   | `deployment.apps/resource-sync-agent` | Syncs the above-mentioned cluster metadata to Azure. |\n   | `deployment.apps/flux-logs-agent` | Collects logs from the Flux operators deployed as a part of [source control configuration](conceptual-gitops-flux2.md). |\n   | `deployment.apps/extension-manager` | Installs and manages lifecycle of extension Helm charts. |\n   | `deployment.apps/kube-aad-proxy` | Used for authentication of requests sent to the cluster using cluster connect. |\n   | `deployment.apps/clusterconnect-agent` | Reverse proxy agent that enables the cluster connect feature to provide access to `apiserver` of the cluster. Optional component deployed only if the [cluster connect](conceptual-cluster-connect.md) feature is enabled.  |\n   | `deployment.apps/guard` | Authentication and authorization webhook server used for Microsoft Entra RBAC. Optional component deployed only if [Azure RBAC](conceptual-azure-rbac.md) is enabled on the cluster.   |\n\n1. Once all the Azure Arc-enabled Kubernetes agent pods are in `Running` state, verify that your cluster is connected to Azure Arc. You should see:\n\n   * An Azure Arc-enabled Kubernetes `connectedClusters` resource in [Azure Resource Manager](/azure/azure-resource-manager/management/overview). Azure tracks this resource as a projection of the customer-managed Kubernetes cluster, rather than tracking the actual Kubernetes cluster itself.\n   * Cluster metadata (such as Kubernetes version, agent version, and number of nodes) appearing on the Azure Arc-enabled Kubernetes resource as metadata.",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/conceptual-agent-overview.md",
    "heading_path": [
      "Azure Arc-enabled Kubernetes agent overview",
      "Deploy agents to your cluster"
    ],
    "section_level": 2,
    "chunk_index": 2,
    "frontmatter": {
      "title": "Azure Arc-enabled Kubernetes agent overview",
      "ms.date": "10/02/2024",
      "ms.topic": "concept-article",
      "description": "Learn about the Azure Arc agents deployed on the Kubernetes clusters when connecting them to Azure Arc."
    },
    "embedding_content": "Document: Azure Arc-enabled Kubernetes agent overview | Topic: concept-article | Description: Learn about the Azure Arc agents deployed on the Kubernetes clusters when connecting them to Azure A | Section: Azure Arc-enabled Kubernetes agent overview > Deploy agents to your cluster | 1. Start the Azure Arc registration for your cluster. This process deploys the agent Helm chart on the cluster. After that, the cluster nodes initiate an outbound communication to the [Microsoft Container Registry](https://github.com/microsoft/containerregistry), pulling the images needed to create the following agents in the `azure-arc` namespace:\n  \n   | Agent | Description |\n   | ----- | ----------- |\n   | `deployment.apps/clusteridentityoperator` | Azure Arc-enabled Kubernetes currently supports only [system assigned identities](/azure/active-directory/managed-identities-azure-resources/overview). `clusteridentityoperator` initiates the first outbound communication. This first communication fetches the Managed Service Identity (MSI) certificate used by other agents for communication with Azure. |\n   | `deployment.apps/config-agent` | Watches the connected cluster for source control configuration resources applied on the cluster. Updates the compliance state. |\n   | `deployment.apps/controller-manager` | An operator of operators that orchestrates interactions between Azure Arc components. |\n   | `deployment.apps/metrics-agent` | Collects metrics of other Arc agents to verify optimal performance. |\n   | `deployment.apps/cluster-metadata-operator` | Gathers cluster metadata, including cluster version, node count, and Azure Arc agent version. |\n   | `deployment.apps/resource-sync-agent` | Syncs the above-mentioned cluster metadata to Azure. |\n   | `deployment.apps/flux-logs-agent` | Collects logs from the Flux operators deployed as a part of [source control configuration](conceptual-gitops-flux2.md). |\n   | `deployment.apps/extension-manager` | Installs and manages lifecycle of extension Helm charts. |\n   | `deployment.apps/kube-aad-proxy` | Used for authentication of requests sent to the cluster using cluster connect. |\n   | `deployment.apps/clusterconnect-agent` | Reverse proxy agent that enables the cluster connect feature to provide access to `apiserver` of the cluster. Optional component deployed only if the [cluster connect](conceptual-cluster-connect.md) feature is enabled.  |\n   | `deployment.apps/guard` | Authentication and authorization webhook server used for Microsoft Entra RBAC. Optional component deployed only if [Azure RBAC](conceptual-azure-rbac.md) is enabled on the cluster.   |\n\n1. Once all the Azure Arc-enabled Kubernetes agent pods are in `Running` state, verify that your cluster is connected to Azure Arc. You should see:\n\n   * An Azure Arc-enabled Kubernetes `connectedClusters` resource in [Azure Resource Manager](/azure/azure-resource-manager/management/overview). Azure tracks this resource as a projection of the customer-managed Kubernetes cluster, rather than tracking the actual Kubernetes cluster itself.\n   * Cluster metadata (such as Kubernetes version, agent version, and number of nodes) appearing on the Azure Arc-enabled Kubernetes resource as metadata.",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "8caeb4510b04ccee4c9fd19425b2269e4fa2bfe7424dbc5a61c27d6dc61337fe",
    "file_id": "40e82943a0291c7357bae9457e28f05ba5b9c8e6bc19c63e79708f5208796be3",
    "chunk_id": "9e9a05ccdf3e03253d4f105f901f0620cb0a927a35f0609d7068e644d132b4fc",
    "prev_chunk_id": "bc29e286eb6875928298d9e3d953941056fad462eabe1351c0f17158cd744b01",
    "next_chunk_id": "8bfa33a20e28807fab44c262d5206353aaecb4ff90d3fd8aad53a1b7df0d6ac4",
    "parent_heading_chunk_id": "860e15ec596af3c4ed0e82b2a6b317fb45baabfb817352fbda7e87f7b23c3e4c",
    "total_chunks_in_file": 7
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/conceptual-agent-overview.md",
    "section": [
      "Azure Arc-enabled Kubernetes agent overview",
      "Deploy agents to your cluster"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:35.072282"
}