{
  "data": {
    "content": "## Toggle automatic upgrade on or off when connecting a cluster to Azure Arc\n\nAzure Arc-enabled Kubernetes provides its agents with out-of-the-box automatic upgrade capabilities. When automatic upgrade is enabled, the agent polls Azure hourly to check for a newer version. When a newer version becomes available, it triggers a Helm chart upgrade for the Azure Arc agents.\n\nWhen you [connect a cluster to Azure Arc](quickstart-connect-cluster.md), the default setting is to enable automatic upgrade.\n\nThe following command connects a cluster to Azure Arc with automatic upgrade enabled:\n\n```azurecli\naz connectedk8s connect --name AzureArcTest1 --resource-group AzureArcTest\n```\n\n> [!IMPORTANT]\n> Be sure you allow [connectivity to all required endpoints](network-requirements.md). In particular, connectivity to `dl.k8s.io` is required for automatic upgrades.\n\nTo opt out of automatic upgrade, specify the `--disable-auto-upgrade` parameter while connecting the cluster to Azure Arc.\n\nThe following command connects a cluster to Azure Arc with auto-upgrade disabled:\n\n```azurecli\naz connectedk8s connect --name AzureArcTest1 --resource-group AzureArcTest --disable-auto-upgrade\n```\n\n> [!TIP]\n> If you plan to disable automatic upgrade, be aware of the [version support policy](#version-support-policy) for Azure Arc-enabled Kubernetes.",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/agent-upgrade.md",
    "heading_path": [
      "Upgrade Azure Arc-enabled Kubernetes agents",
      "Toggle automatic upgrade on or off when connecting a cluster to Azure Arc"
    ],
    "section_level": 2,
    "chunk_index": 1,
    "frontmatter": {
      "title": "Upgrade Azure Arc-enabled Kubernetes agents",
      "ms.date": "01/07/2025",
      "ms.topic": "how-to",
      "ms.custom": "devx-track-azurecli",
      "description": "Control agent upgrades for Azure Arc-enabled Kubernetes"
    },
    "embedding_content": "Document: Upgrade Azure Arc-enabled Kubernetes agents | Topic: how-to | Description: Control agent upgrades for Azure Arc-enabled Kubernetes | Section: Upgrade Azure Arc-enabled Kubernetes agents > Toggle automatic upgrade on or off when connecting a cluster to Azure Arc | ## Toggle automatic upgrade on or off when connecting a cluster to Azure Arc\n\nAzure Arc-enabled Kubernetes provides its agents with out-of-the-box automatic upgrade capabilities. When automatic upgrade is enabled, the agent polls Azure hourly to check for a newer version. When a newer version becomes available, it triggers a Helm chart upgrade for the Azure Arc agents.\n\nWhen you [connect a cluster to Azure Arc](quickstart-connect-cluster.md), the default setting is to enable automatic upgrade.\n\nThe following command connects a cluster to Azure Arc with automatic upgrade enabled:\n\n```azurecli\naz connectedk8s connect --name AzureArcTest1 --resource-group AzureArcTest\n```\n\n> [!IMPORTANT]\n> Be sure you allow [connectivity to all required endpoints](network-requirements.md). In particular, connectivity to `dl.k8s.io` is required for automatic upgrades.\n\nTo opt out of automatic upgrade, specify the `--disable-auto-upgrade` parameter while connecting the cluster to Azure Arc.\n\nThe following command connects a cluster to Azure Arc with auto-upgrade disabled:\n\n```azurecli\naz connectedk8s connect --name AzureArcTest1 --resource-group AzureArcTest --disable-auto-upgrade\n```\n\n> [!TIP]\n> If you plan to disable automatic upgrade, be aware of the [version support policy](#version-support-policy) for Azure Arc-enabled Kubernetes.",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "2f83bf060439c375b2d3f20e99abfac1c3960b4c57c8954ab947a0ab5e527ee0",
    "file_id": "ab86f6198beb1ba696de357f55997524a3092d4dd1e92b4a720c4b387a66eba9",
    "chunk_id": "eb6ee3a9574290f7394ae98c0fe7de643a2003ddf73fb10a6194ddc6a299d3c4",
    "prev_chunk_id": "b8fe26e76024d0e229a562e1769dc27cd5b3ed305beb748940a9bd6194257fe9",
    "next_chunk_id": "c549350d95d8094763e5cfb169420c03f6e578097be66cab942b3bd88549def3",
    "parent_heading_chunk_id": "62490fdfa353a04bb5a4aa8dfeaf6891a55f94e2fe22058a393a7e1501f92aa2",
    "total_chunks_in_file": 8
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/agent-upgrade.md",
    "section": [
      "Upgrade Azure Arc-enabled Kubernetes agents",
      "Toggle automatic upgrade on or off when connecting a cluster to Azure Arc"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-02T15:36:20.096727"
}