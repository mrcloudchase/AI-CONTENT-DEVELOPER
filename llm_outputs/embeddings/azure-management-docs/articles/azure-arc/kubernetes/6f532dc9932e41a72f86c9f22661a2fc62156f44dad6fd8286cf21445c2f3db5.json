{
  "data": {
    "content": "1. For **Instance name**, enter **infrastructure**.\n      1. For **Path**, enter **./infrastructure**.\n      1. Check the box for **Prune**. This setting ensures that the objects that Flux deployed to the cluster are cleaned up if they're removed from the repository, or if the Flux configuration or kustomizations are deleted.\n      1. Leave the other options as is, then select **Save** to create the `infrastructure` kustomization.\n\n         :::image type=\"content\" source=\"media/tutorial-use-gitops-flux2/portal-kustomization-infrastructure.png\" alt-text=\"Screenshot showing the options to create the infrastructure kustomization in the Azure portal.\" lightbox=\"media/tutorial-use-gitops-flux2/portal-kustomization-infrastructure.png\":::\n\n   1. The `infrastructure` kustomization now appears in the **Kustomizations** section. To create the next kustomization, select **Create** again.\n   1. In the **Create a Kustomization** screen:\n\n      1. For **Instance name**, enter **staging**.\n      1. For **Path**, enter **./apps/staging**.\n      1. Check the box for **Prune**.\n      1. In the **Depends on** box, select **infrastructure**.\n      1. Leave the other options as is, then select **Save** to create the `staging` kustomization.\n\n         :::image type=\"content\" source=\"media/tutorial-use-gitops-flux2/portal-kustomization-staging.png\" alt-text=\"Screenshot showing the options to create the staging kustomization in the Azure portal.\" lightbox=\"media/tutorial-use-gitops-flux2/portal-kustomization-staging.png\":::\n\n   1. You now should see both kustomizations shown in the **Kustomizations** section. Select **Next** to continue.\n\n1. Review the options you selected in the previous steps. Then select **Create** to finish creating your GitOps configuration.",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-use-gitops-flux2.md",
    "heading_path": [
      "Tutorial: Deploy applications using GitOps with Flux v2",
      "Apply a Flux configuration",
      "[Azure portal](#tab/azure-portal)"
    ],
    "section_level": 3,
    "chunk_index": 24,
    "frontmatter": {
      "title": "Tutorial: Deploy applications using GitOps with Flux v2",
      "description": "This tutorial shows how to use GitOps with Flux v2 to manage configuration and application deployment in Azure Arc and AKS clusters.",
      "ms.date": "03/26/2025",
      "ms.topic": "tutorial",
      "ms.custom": "template-tutorial, devx-track-azurecli, references_regions"
    },
    "embedding_content": "Document: Tutorial: Deploy applications using GitOps with Flux v2 | Topic: tutorial | Description: This tutorial shows how to use GitOps with Flux v2 to manage configuration and application deploymen | Section: Tutorial: Deploy applications using GitOps with Flux v2 > Apply a Flux configuration > [Azure portal](#tab/azure-portal) | 1. For **Instance name**, enter **infrastructure**.\n      1. For **Path**, enter **./infrastructure**.\n      1. Check the box for **Prune**. This setting ensures that the objects that Flux deployed to the cluster are cleaned up if they're removed from the repository, or if the Flux configuration or kustomizations are deleted.\n      1. Leave the other options as is, then select **Save** to create the `infrastructure` kustomization.\n\n         :::image type=\"content\" source=\"media/tutorial-use-gitops-flux2/portal-kustomization-infrastructure.png\" alt-text=\"Screenshot showing the options to create the infrastructure kustomization in the Azure portal.\" lightbox=\"media/tutorial-use-gitops-flux2/portal-kustomization-infrastructure.png\":::\n\n   1. The `infrastructure` kustomization now appears in the **Kustomizations** section. To create the next kustomization, select **Create** again.\n   1. In the **Create a Kustomization** screen:\n\n      1. For **Instance name**, enter **staging**.\n      1. For **Path**, enter **./apps/staging**.\n      1. Check the box for **Prune**.\n      1. In the **Depends on** box, select **infrastructure**.\n      1. Leave the other options as is, then select **Save** to create the `staging` kustomization.\n\n         :::image type=\"content\" source=\"media/tutorial-use-gitops-flux2/portal-kustomization-staging.png\" alt-text=\"Screenshot showing the options to create the staging kustomization in the Azure portal.\" lightbox=\"media/tutorial-use-gitops-flux2/portal-kustomization-staging.png\":::\n\n   1. You now should see both kustomizations shown in the **Kustomizations** section. Select **Next** to continue.\n\n1. Review the options you selected in the previous steps. Then select **Create** to finish creating your GitOps configuration.",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "5eb09b82021ce319772644a6a438e9ac8b445145c791ce6262b65b94fe47177d",
    "file_id": "e86c9f8524b4e2887fafe4602021952640d48b815217386227741e43a048021a",
    "chunk_id": "6f532dc9932e41a72f86c9f22661a2fc62156f44dad6fd8286cf21445c2f3db5",
    "prev_chunk_id": "a762f5d8d6366e05e75729dc9c3cc13b188a92bcc4d09d00c2e5b45dea90f68d",
    "next_chunk_id": "b3001fb1a4afc2744c600d77b58dd32e8b7597a66d9b770f6df68701974e0ffc",
    "parent_heading_chunk_id": "4bd8f43f7347b35eee3d60d624a2a62bdbd2443e436197871508e49f8e35b95a",
    "total_chunks_in_file": 51
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-use-gitops-flux2.md",
    "section": [
      "Tutorial: Deploy applications using GitOps with Flux v2",
      "Apply a Flux configuration",
      "[Azure portal](#tab/azure-portal)"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:34.254360"
}