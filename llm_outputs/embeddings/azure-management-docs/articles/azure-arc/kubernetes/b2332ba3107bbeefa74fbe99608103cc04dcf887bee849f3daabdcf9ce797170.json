{
  "data": {
    "content": "### Give more permissions to the build service\n\nThe CD pipeline uses the security token of the running build to authenticate to the GitOps repository. More permissions are needed for the pipeline to create a new branch, push changes, and create PRs. To enable these permissions:\n\n1. In Azure DevOps, open **Project settings**.\n1. Under **Repositories**, select **Repos**.\n1. Select **Security**.\n1. Find `<Project Name> Build Service (<Organization Name>)` and `Project Collection Build Service (<Organization Name>)` (use search if you don't see them), and allow **Contribute**, **Contribute to pull requests**, and **Create branch**.\n1. Under **Pipelines**, select **Settings**.\n1. Turn off the **Protect access to repositories in YAML pipelines** option.\n\nFor more information, see [Grant version control permissions to the build service](/azure/devops/pipelines/scripts/git-commands?preserve-view=true&tabs=yaml&view=azure-devops#version-control) and [Manage build service account permissions](/azure/devops/pipelines/process/access-tokens?preserve-view=true&tabs=yaml&view=azure-devops#manage-build-service-account-permissions).",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-gitops-flux2-ci-cd.md",
    "heading_path": [
      "Tutorial: Implement CI/CD with GitOps (Flux v2)",
      "Implement CI/CD with Azure DevOps",
      "Give more permissions to the build service"
    ],
    "section_level": 3,
    "chunk_index": 16,
    "frontmatter": {
      "title": "Tutorial: Implement CI/CD with GitOps (Flux v2)",
      "description": "This tutorial walks through setting up a CI/CD solution using GitOps (Flux v2) in Azure Arc-enabled Kubernetes or Azure Kubernetes Service clusters.",
      "author": "eedorenko",
      "ms.author": "iefedore",
      "ms.topic": "tutorial",
      "ms.date": "01/15/2025",
      "ms.custom": "template-tutorial, devx-track-azurecli"
    },
    "embedding_content": "Document: Tutorial: Implement CI/CD with GitOps (Flux v2) | Topic: tutorial | Description: This tutorial walks through setting up a CI/CD solution using GitOps (Flux v2) in Azure Arc-enabled  | Section: Tutorial: Implement CI/CD with GitOps (Flux v2) > Implement CI/CD with Azure DevOps > Give more permissions to the build service | ### Give more permissions to the build service\n\nThe CD pipeline uses the security token of the running build to authenticate to the GitOps repository. More permissions are needed for the pipeline to create a new branch, push changes, and create PRs. To enable these permissions:\n\n1. In Azure DevOps, open **Project settings**.\n1. Under **Repositories**, select **Repos**.\n1. Select **Security**.\n1. Find `<Project Name> Build Service (<Organization Name>)` and `Project Collection Build Service (<Organization Name>)` (use search if you don't see them), and allow **Contribute**, **Contribute to pull requests**, and **Create branch**.\n1. Under **Pipelines**, select **Settings**.\n1. Turn off the **Protect access to repositories in YAML pipelines** option.\n\nFor more information, see [Grant version control permissions to the build service](/azure/devops/pipelines/scripts/git-commands?preserve-view=true&tabs=yaml&view=azure-devops#version-control) and [Manage build service account permissions](/azure/devops/pipelines/process/access-tokens?preserve-view=true&tabs=yaml&view=azure-devops#manage-build-service-account-permissions).",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "540edc2728e29a0f257911f4c3c10d2b05a680ad1610e8275532e6b7222314e3",
    "file_id": "4d1229b6dc50d3a990ffdf3b851b5e2741d36a02a95ab6b0d3b14c5df8fd629c",
    "chunk_id": "b2332ba3107bbeefa74fbe99608103cc04dcf887bee849f3daabdcf9ce797170",
    "prev_chunk_id": "e19ecac94ec5bcefa1b91883942c552440adeff8d9c68508ad64c2d153798a4d",
    "next_chunk_id": "29af020e08024b31ecc5ab4217d6a934d45d8422512a170f1563efc79afab1e6",
    "parent_heading_chunk_id": "acbb58d677b190c111bc77fa91e51dfd959e8a6b02d52697a361a6d9f20a849c",
    "total_chunks_in_file": 35
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-gitops-flux2-ci-cd.md",
    "section": [
      "Tutorial: Implement CI/CD with GitOps (Flux v2)",
      "Implement CI/CD with Azure DevOps",
      "Give more permissions to the build service"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:35.899936"
}