{
  "data": {
    "content": "#### Red Hat OpenShift onboarding guidance\n\nFlux controllers require a **nonroot** [Security Context Constraint](https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html/authentication/managing-pod-security-policies) to properly provision pods on the cluster. These constraints must be added to the cluster before deploying the `microsoft.flux` extension.\n\n```console\nNS=\"flux-system\"\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:kustomize-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:helm-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:source-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:notification-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:image-automation-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:image-reflector-controller\n```\n\nFor more information on OpenShift guidance for onboarding Flux, see the [Flux documentation](https://fluxcd.io/docs/use-cases/openshift/#openshift-setup).",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-use-gitops-flux2.md",
    "heading_path": [
      "Tutorial: Deploy applications using GitOps with Flux v2",
      "Apply a Flux configuration",
      "[Azure CLI](#tab/azure-cli)",
      "Red Hat OpenShift onboarding guidance"
    ],
    "section_level": 4,
    "chunk_index": 22,
    "frontmatter": {
      "title": "Tutorial: Deploy applications using GitOps with Flux v2",
      "description": "This tutorial shows how to use GitOps with Flux v2 to manage configuration and application deployment in Azure Arc and AKS clusters.",
      "ms.date": "03/26/2025",
      "ms.topic": "tutorial",
      "ms.custom": "template-tutorial, devx-track-azurecli, references_regions"
    },
    "embedding_content": "Document: Tutorial: Deploy applications using GitOps with Flux v2 | Topic: tutorial | Description: This tutorial shows how to use GitOps with Flux v2 to manage configuration and application deploymen | Section: Tutorial: Deploy applications using GitOps with Flux v2 > Apply a Flux configuration > [Azure CLI](#tab/azure-cli) > Red Hat OpenShift onboarding guidance | #### Red Hat OpenShift onboarding guidance\n\nFlux controllers require a **nonroot** [Security Context Constraint](https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html/authentication/managing-pod-security-policies) to properly provision pods on the cluster. These constraints must be added to the cluster before deploying the `microsoft.flux` extension.\n\n```console\nNS=\"flux-system\"\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:kustomize-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:helm-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:source-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:notification-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:image-automation-controller\noc adm policy add-scc-to-user nonroot system:serviceaccount:$NS:image-reflector-controller\n```\n\nFor more information on OpenShift guidance for onboarding Flux, see the [Flux documentation](https://fluxcd.io/docs/use-cases/openshift/#openshift-setup).",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "7d46d426f62bac0149d8a22d7a978550bcfb2c887de27fa30214410abd79c005",
    "file_id": "e86c9f8524b4e2887fafe4602021952640d48b815217386227741e43a048021a",
    "chunk_id": "3de05492643b6dddb7628a43a8d1124c740806f606686cbdea0c9cd5a645392f",
    "prev_chunk_id": "118717a28493725ee1072fd8964c769d56d61466e71b8fabe98ab4ff9cc0ee0a",
    "next_chunk_id": "a762f5d8d6366e05e75729dc9c3cc13b188a92bcc4d09d00c2e5b45dea90f68d",
    "parent_heading_chunk_id": "5c9458ae7fc80bdbafa6451dea0e38d02d057dc4bd24c8e304f442b0c2d02583",
    "total_chunks_in_file": 51
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/tutorial-use-gitops-flux2.md",
    "section": [
      "Tutorial: Deploy applications using GitOps with Flux v2",
      "Apply a Flux configuration",
      "[Azure CLI](#tab/azure-cli)",
      "Red Hat OpenShift onboarding guidance"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-02T15:36:19.671653"
}