{
  "data": {
    "content": "#### [Azure PowerShell](#tab/azure-powershell)\n\n1. Get the `objectId` associated with your Microsoft Entra entity. For single user accounts, get the user principal name (UPN) associated with your Microsoft Entra entity.\n\n   - For a Microsoft Entra group account:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad signed-in-user show --query id -o tsv)\n     ```\n\n   - For a Microsoft Entra single user account:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad signed-in-user show --query userPrincipalName -o tsv)\n     ```\n\n   - For a Microsoft Entra application:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad sp show --id <id> --query objectId -o tsv)\n     ```\n\n1. Authorize the entity with appropriate permissions.\n\n   - If you use native Kubernetes ClusterRoleBinding or RoleBinding for authorization checks on the cluster, with the `kubeconfig` file pointing to the `apiserver` of your cluster for direct access, you can create one mapped to the Microsoft Entra entity that needs to access this cluster. For example:\n\n     ```console\n     kubectl create clusterrolebinding demo-user-binding --clusterrole cluster-admin --user=$AAD_ENTITY_ID\n     ```\n\n   - If you use [Azure RBAC for authorization checks](azure-rbac.md) on the cluster, you can create an applicable [Azure role assignment](azure-rbac.md#built-in-roles) mapped to the Microsoft Entra entity. For example:\n\n     ```azurepowershell\n     az role assignment create --role \"Azure Arc Kubernetes Viewer\" --assignee $AAD_ENTITY_ID --scope $ARM_ID_CLUSTER\n     az role assignment create --role \"Azure Arc Enabled Kubernetes Cluster User Role\" --assignee $AAD_ENTITY_ID --scope $ARM_ID_CLUSTER\n     ```\n\n---",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/cluster-connect.md",
    "heading_path": [
      "Use cluster connect to securely connect to Azure Arc-enabled Kubernetes clusters",
      "Set up authentication",
      "Microsoft Entra authentication option",
      "[Azure PowerShell](#tab/azure-powershell)"
    ],
    "section_level": 4,
    "chunk_index": 7,
    "frontmatter": {
      "title": "Use cluster connect to securely connect to Azure Arc-enabled Kubernetes clusters.",
      "ms.date": "01/24/2025",
      "ms.topic": "how-to",
      "ms.custom": "devx-track-azurecli",
      "description": "With cluster connect, you can securely connect to Azure Arc-enabled Kubernetes clusters from anywhere without requiring any inbound port to be enabled on the firewall."
    },
    "embedding_content": "Document: Use cluster connect to securely connect to Azure Arc-enabled Kubernetes clusters. | Topic: how-to | Description: With cluster connect, you can securely connect to Azure Arc-enabled Kubernetes clusters from anywher | Section: Use cluster connect to securely connect to Azure Arc-enabled Kubernetes clusters > Set up authentication > Microsoft Entra authentication option > [Azure PowerShell](#tab/azure-powershell) | #### [Azure PowerShell](#tab/azure-powershell)\n\n1. Get the `objectId` associated with your Microsoft Entra entity. For single user accounts, get the user principal name (UPN) associated with your Microsoft Entra entity.\n\n   - For a Microsoft Entra group account:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad signed-in-user show --query id -o tsv)\n     ```\n\n   - For a Microsoft Entra single user account:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad signed-in-user show --query userPrincipalName -o tsv)\n     ```\n\n   - For a Microsoft Entra application:\n\n     ```azurepowershell\n     $AAD_ENTITY_ID = (az ad sp show --id <id> --query objectId -o tsv)\n     ```\n\n1. Authorize the entity with appropriate permissions.\n\n   - If you use native Kubernetes ClusterRoleBinding or RoleBinding for authorization checks on the cluster, with the `kubeconfig` file pointing to the `apiserver` of your cluster for direct access, you can create one mapped to the Microsoft Entra entity that needs to access this cluster. For example:\n\n     ```console\n     kubectl create clusterrolebinding demo-user-binding --clusterrole cluster-admin --user=$AAD_ENTITY_ID\n     ```\n\n   - If you use [Azure RBAC for authorization checks](azure-rbac.md) on the cluster, you can create an applicable [Azure role assignment](azure-rbac.md#built-in-roles) mapped to the Microsoft Entra entity. For example:\n\n     ```azurepowershell\n     az role assignment create --role \"Azure Arc Kubernetes Viewer\" --assignee $AAD_ENTITY_ID --scope $ARM_ID_CLUSTER\n     az role assignment create --role \"Azure Arc Enabled Kubernetes Cluster User Role\" --assignee $AAD_ENTITY_ID --scope $ARM_ID_CLUSTER\n     ```\n\n---",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "adb52d6aae06c3179b01cef8bc8af738b59a616c7d527d9dc60d2e285b021fbf",
    "file_id": "59611357f05266b375ce07b3061290a455e0393846f6f5593bc8b08af83d3f07",
    "chunk_id": "2515428aafcbedc78728247a17f3ea4e860538adddbb0c00f079ce4dc908a2aa",
    "prev_chunk_id": "a7ad5255578c28999e8f3b03dc41ec9a036cb98c1a7c8b6c4d1714a416e3b08c",
    "next_chunk_id": "ccb391f03b5345f9ae5e44dd5414f8e709c7d2d91abc497b75a64468f7bba934",
    "parent_heading_chunk_id": "e5a95c198882948da53e37c4923b03c6d475f23fb0a583dea77651851565d40f",
    "total_chunks_in_file": 14
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/cluster-connect.md",
    "section": [
      "Use cluster connect to securely connect to Azure Arc-enabled Kubernetes clusters",
      "Set up authentication",
      "Microsoft Entra authentication option",
      "[Azure PowerShell](#tab/azure-powershell)"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:34.675469"
}