{
  "data": {
    "content": "## Create custom location\n\n1. Deploy the Azure service cluster extension of the Azure service instance you want to install on your cluster:\n\n   - [Azure Arc-enabled data services](../data/create-data-controller-direct-prerequisites.md)\n\n     > [!NOTE]\n     > Outbound proxy without authentication and outbound proxy with basic authentication are supported by the Azure Arc-enabled data services cluster extension. Outbound proxy that expects trusted certificates is currently not supported.\n\n   - [Azure Container Apps on Azure Arc](/azure/container-apps/azure-arc-enable-cluster?tabs=azure-cli#install-the-container-apps-extension)\n\n   - [Event Grid on Kubernetes](/azure/event-grid/kubernetes/install-k8s-extension)\n\n1. Get the Azure Resource Manager identifier of the Azure Arc-enabled Kubernetes cluster, referenced in later steps as `connectedClusterId`:\n\n    ```azurecli\n    az connectedk8s show -n <clusterName> -g <resourceGroupName>  --query id -o tsv\n    ```\n\n1. Get the Azure Resource Manager identifier of the cluster extension you deployed to the Azure Arc-enabled Kubernetes cluster, referenced in later steps as `extensionId`:\n\n    ```azurecli\n    az k8s-extension show --name <extensionInstanceName> --cluster-type connectedClusters -c <clusterName> -g <resourceGroupName>  --query id -o tsv\n    ```\n\n1. Create the custom location by referencing the Azure Arc-enabled Kubernetes cluster and the extension:\n\n    ```azurecli\n    az customlocation create -n <customLocationName> -g <resourceGroupName> --namespace <name of namespace> --host-resource-id <connectedClusterId> --cluster-extension-ids <extensionId> \n    ```\n\n   - Required parameters:\n\n     | Parameter name | Description |\n     |----------------|------------|\n     | `--name, --n` | Name of the custom location. |\n     | `--resource-group, --g` | Resource group of the custom location.  |\n     | `--namespace` | Namespace in the cluster bound to the custom location being created. |\n     | `--host-resource-id` | Azure Resource Manager identifier of the Azure Arc-enabled Kubernetes cluster (connected cluster). |\n     | `--cluster-extension-ids` | Azure Resource Manager identifier of a cluster extension instance installed on the connected cluster. For multiple extensions, provide a space-separated list of cluster extension IDs |\n\n   - Optional parameters:\n\n     | Parameter name | Description |\n     |--------------|------------|\n     | `--location, --l` | Location of the custom location Azure Resource Manager resource in Azure. If not specified, the location of the connected cluster is used. |\n     | `--tags` | Space-separated list of tags in the format `key[=value]`. Use '' to clear existing tags. |\n     | `--kubeconfig` | Admin `kubeconfig` of cluster. |\n\n1. Confirm that custom location was successfully enabled by running the following command and checking that `ProvisioningState` is `Succeeded`:\n\n```azurecli\naz customlocation show -n <customLocationName> -g <resourceGroupName>\n```",
    "file_path": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/custom-locations.md",
    "heading_path": [
      "Create and manage custom locations on Azure Arc-enabled Kubernetes",
      "Create custom location"
    ],
    "section_level": 2,
    "chunk_index": 5,
    "frontmatter": {
      "title": "Create and manage custom locations on Azure Arc-enabled Kubernetes",
      "ms.date": "03/03/2025",
      "ms.topic": "how-to",
      "ms.custom": "references_regions, devx-track-azurecli",
      "description": "Use custom locations to deploy Azure PaaS services on Azure Arc-enabled Kubernetes clusters"
    },
    "embedding_content": "Document: Create and manage custom locations on Azure Arc-enabled Kubernetes | Topic: how-to | Description: Use custom locations to deploy Azure PaaS services on Azure Arc-enabled Kubernetes clusters | Section: Create and manage custom locations on Azure Arc-enabled Kubernetes > Create custom location | ## Create custom location\n\n1. Deploy the Azure service cluster extension of the Azure service instance you want to install on your cluster:\n\n   - [Azure Arc-enabled data services](../data/create-data-controller-direct-prerequisites.md)\n\n     > [!NOTE]\n     > Outbound proxy without authentication and outbound proxy with basic authentication are supported by the Azure Arc-enabled data services cluster extension. Outbound proxy that expects trusted certificates is currently not supported.\n\n   - [Azure Container Apps on Azure Arc](/azure/container-apps/azure-arc-enable-cluster?tabs=azure-cli#install-the-container-apps-extension)\n\n   - [Event Grid on Kubernetes](/azure/event-grid/kubernetes/install-k8s-extension)\n\n1. Get the Azure Resource Manager identifier of the Azure Arc-enabled Kubernetes cluster, referenced in later steps as `connectedClusterId`:\n\n    ```azurecli\n    az connectedk8s show -n <clusterName> -g <resourceGroupName>  --query id -o tsv\n    ```\n\n1. Get the Azure Resource Manager identifier of the cluster extension you deployed to the Azure Arc-enabled Kubernetes cluster, referenced in later steps as `extensionId`:\n\n    ```azurecli\n    az k8s-extension show --name <extensionInstanceName> --cluster-type connectedClusters -c <clusterName> -g <resourceGroupName>  --query id -o tsv\n    ```\n\n1. Create the custom location by referencing the Azure Arc-enabled Kubernetes cluster and the extension:\n\n    ```azurecli\n    az customlocation create -n <customLocationName> -g <resourceGroupName> --namespace <name of namespace> --host-resource-id <connectedClusterId> --cluster-extension-ids <extensionId> \n    ```\n\n   - Required parameters:\n\n     | Parameter name | Description |\n     |----------------|------------|\n     | `--name, --n` | Name of the custom location. |\n     | `--resource-group, --g` | Resource group of the custom location.  |\n     | `--namespace` | Namespace in the cluster bound to the custom location being created. |\n     | `--host-resource-id` | Azure Resource Manager identifier of the Azure Arc-enabled Kubernetes cluster (connected cluster). |\n     | `--cluster-extension-ids` | Azure Resource Manager identifier of a cluster extension instance installed on the connected cluster. For multiple extensions, provide a space-separated list of cluster extension IDs |\n\n   - Optional parameters:\n\n     | Parameter name | Description |\n     |--------------|------------|\n     | `--location, --l` | Location of the custom location Azure Resource Manager resource in Azure. If not specified, the location of the connected cluster is used. |\n     | `--tags` | Space-separated list of tags in the format `key[=value]`. Use '' to clear existing tags. |\n     | `--kubeconfig` | Admin `kubeconfig` of cluster. |\n\n1. Confirm that custom location was successfully enabled by running the following command and checking that `ProvisioningState` is `Succeeded`:\n\n```azurecli\naz customlocation show -n <customLocationName> -g <resourceGroupName>\n```",
    "embedding": null,
    "embedding_model": null,
    "embedding_generated_at": null,
    "content_hash": "bc1a6f07dfa7b1d06533fea0e8d2d820d963baee173e08547bf52fc3bde877f8",
    "file_id": "66dc6f245c3c666c0e1c6579b5a5a23f632d5fe945e8b95dce19ca8ff30f0864",
    "chunk_id": "a4c15d351e7e9174a21a7f287200a5d00cf14009d5843c1ac927df4e6a0094db",
    "prev_chunk_id": "5135161ed388fcdc5a61a27ce587020d30acb6b914cf20243d36e359955392d7",
    "next_chunk_id": "c173c65464900ba635bd49176e1f83947ea672775b0bfc449d5ceff882fbe038",
    "parent_heading_chunk_id": "4c0c40090d57dd293167d6f045d47d3810beba9099f78c64e0b974d10e6f87fc",
    "total_chunks_in_file": 17
  },
  "meta": {
    "type": "chunk",
    "file": "/Users/cloudchase/Desktop/Vibe_Coding/Cursor/ai-content-developer/work/tmp/azure-management-docs/articles/azure-arc/kubernetes/custom-locations.md",
    "section": [
      "Create and manage custom locations on Azure Arc-enabled Kubernetes",
      "Create custom location"
    ],
    "has_embedding": false
  },
  "timestamp": "2025-06-03T19:17:36.114765"
}